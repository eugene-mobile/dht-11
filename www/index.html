<html>
<head>
    <title>Welcome to Raspberry-PI home AC automation!</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap-material-design/dist/css/ripples.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap-material-design/dist/css/material-wfont.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <script>
        function togglePin(pinNum) {
            $.post( "ajax/pin/"+pinNum+"?value=true", function( data ) {
                alert('success! '+data);
                //$( ".result" ).html( data );
            });
        }
        function refreshAmbientData() {
            $.getJSON( "ajax/ambient", function( data ) {
                $( "#temperature-value").html(data.temperature+'C&deg;');
                $( "#humidity-value").html(data.humidity+'%');
            });
        }
    </script>

</head>
<body>
<h1>Welcome to PI rpi-nginx!</h1>
<p>
    <button class="btn btn-material-deeppurple" onclick="togglePin(40)">Deep purple button</button>
</p>

<div class="panel panel-info ambient-info">
    <div class="panel-heading">
        <h3 class="panel-title">Ambient info</h3>
    </div>
    <div class="panel-body">
        <div class="list-group">
            <div class="list-group-item">
                <div class="row-action-primary" onclick="refreshAmbientData();">
                    <i class="mdi-navigation-refresh"></i>
                </div>
                <div class="row-content">
                    <div class="action-secondary"><i class="mdi-material-info"></i></div>
                    <h4 class="list-group-item-heading" id="temperature-value">?</h4>
                    <p class="list-group-item-text">Temperature.</p>
                </div>
            </div>
            <div class="list-group-separator"></div>
            <div class="list-group-item">
                <div class="row-action-primary" onclick="refreshAmbientData();">
                    <i class="mdi-navigation-refresh"></i>
                </div>
                <div class="row-content">
                    <div class="action-secondary"><i class="mdi-material-info"></i></div>
                    <h4 class="list-group-item-heading" id="humidity-value">?</h4>
                    <p class="list-group-item-text">Humidity.</p>
                </div>
            </div>
            <div class="list-group-separator"></div>
        </div>
    </div>
</div>

    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <script src="bower_components/bootstrap-material-design/dist/js/ripples.min.js"></script>
    <script src="bower_components/bootstrap-material-design/dist/js/material.min.js"></script>
    <script>
        $(document).ready(function() {
            $.material.init();
            refreshAmbientData();
            setInterval(refreshAmbientData, 3000);
        });
    </script>

</body>
</html>
